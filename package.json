{
  "name": "ts-mcp-debugger",
  "displayName": "MCP ACS Debugger",
  "description": "AI-powered debugging for VS Code with multi-language support. Integrates with GitHub Copilot and AI agents through Model Context Protocol. Debug JavaScript, TypeScript, Python, Java, C/C++, Go, Rust, and more.",
  "version": "1.5.16",
  "packageManager": "yarn@4.12.0",
  "publisher": "DigitalDefiance",
  "icon": "images/icon.png",
  "engines": {
    "vscode": "^1.105.0"
  },
  "categories": [
    "Debuggers",
    "Testing",
    "Other"
  ],
  "keywords": [
    "debugger",
    "nodejs",
    "typescript",
    "javascript",
    "python",
    "java",
    "go",
    "rust",
    "cpp",
    "multi-language",
    "mcp",
    "mcp-server",
    "ai-debugging",
    "copilot",
    "hang-detection",
    "profiling",
    "dap"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onDebug",
    "onLanguage:javascript",
    "onLanguage:typescript"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "mcpServerDefinitionProviders": [
      {
        "id": "ts-mcp-debugger.mcp-provider",
        "label": "Node.js Debugger (MCP)"
      }
    ],
    "chatParticipants": [
      {
        "id": "ts-mcp-debugger.participant",
        "name": "debugger",
        "description": "AI-powered debugging for VS Code with multi-language support via Debug Adapter Protocol",
        "isSticky": true
      }
    ],
    "languageModelTools": [
      {
        "name": "debugger_start",
        "displayName": "Start Debugger",
        "modelDescription": "Start a new debug session (VS Code: any language with debug adapter; MCP server: Node.js/JavaScript only)",
        "toolReferenceName": "startDebugging",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "program": {
              "type": "string",
              "description": "Path to the program to debug"
            },
            "args": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Command line arguments"
            },
            "cwd": {
              "type": "string",
              "description": "Working directory"
            },
            "stopOnEntry": {
              "type": "boolean",
              "description": "Stop on entry"
            }
          },
          "required": [
            "program"
          ]
        }
      },
      {
        "name": "debugger_stop_session",
        "displayName": "Stop Debugger",
        "modelDescription": "Stop the current debug session",
        "toolReferenceName": "stopDebugging",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_set_breakpoint",
        "displayName": "Set Breakpoint",
        "modelDescription": "Set a breakpoint at a specific file and line",
        "toolReferenceName": "setBreakpoint",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            },
            "file": {
              "type": "string",
              "description": "File path"
            },
            "line": {
              "type": "number",
              "description": "Line number (1-based)"
            },
            "condition": {
              "type": "string",
              "description": "Breakpoint condition"
            },
            "logMessage": {
              "type": "string",
              "description": "Log message"
            }
          },
          "required": [
            "sessionId",
            "file",
            "line"
          ]
        }
      },
      {
        "name": "debugger_continue",
        "displayName": "Continue",
        "modelDescription": "Continue execution",
        "toolReferenceName": "continueExecution",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_step_over",
        "displayName": "Step Over",
        "modelDescription": "Step over the current line",
        "toolReferenceName": "stepOver",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_step_into",
        "displayName": "Step Into",
        "modelDescription": "Step into the current line",
        "toolReferenceName": "stepInto",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_step_out",
        "displayName": "Step Out",
        "modelDescription": "Step out of the current function",
        "toolReferenceName": "stepOut",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_pause",
        "displayName": "Pause",
        "modelDescription": "Pause execution",
        "toolReferenceName": "pauseExecution",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_get_stack",
        "displayName": "Get Stack Trace",
        "modelDescription": "Get the current stack trace",
        "toolReferenceName": "getStackTrace",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            },
            "threadId": {
              "type": "number",
              "description": "Thread ID (optional)"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_get_local_variables",
        "displayName": "Get Local Variables",
        "modelDescription": "Get local variables for the current stack frame",
        "toolReferenceName": "getLocalVariables",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_inspect_object",
        "displayName": "Inspect Object",
        "modelDescription": "Inspect a variable or expression",
        "toolReferenceName": "inspectObject",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            },
            "expression": {
              "type": "string",
              "description": "Expression to evaluate"
            }
          },
          "required": [
            "sessionId",
            "expression"
          ]
        }
      },
      {
        "name": "debugger_detect_hang",
        "displayName": "Detect Hang",
        "modelDescription": "Detect infinite loops and hanging code",
        "toolReferenceName": "detectHang",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            },
            "timeout": {
              "type": "number",
              "description": "Timeout in milliseconds"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_start_cpu_profile",
        "displayName": "Start CPU Profile",
        "modelDescription": "Start CPU profiling",
        "toolReferenceName": "startCpuProfile",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      },
      {
        "name": "debugger_stop_cpu_profile",
        "displayName": "Stop CPU Profile",
        "modelDescription": "Stop CPU profiling and get results",
        "toolReferenceName": "stopCpuProfile",
        "canBeReferencedInPrompt": true,
        "tags": [
          "debugger",
          "mcp"
        ],
        "inputSchema": {
          "type": "object",
          "properties": {
            "sessionId": {
              "type": "string",
              "description": "The debug session ID"
            }
          },
          "required": [
            "sessionId"
          ]
        }
      }
    ],
    "commands": [
      {
        "command": "mcp-debugger.configureMcp",
        "title": "MCP Debugger: Add to Copilot MCP Servers",
        "icon": "$(add)"
      },
      {
        "command": "mcp-debugger.start",
        "title": "MCP Debugger: Start Debug Session",
        "icon": "$(debug-start)"
      },
      {
        "command": "mcp-debugger.detectHang",
        "title": "MCP Debugger: Detect Hanging Process",
        "icon": "$(watch)"
      },
      {
        "command": "mcp-debugger.setBreakpoint",
        "title": "MCP Debugger: Set Smart Breakpoint",
        "icon": "$(debug-breakpoint)"
      },
      {
        "command": "mcp-debugger.profileCPU",
        "title": "MCP Debugger: Start CPU Profiling",
        "icon": "$(graph)"
      },
      {
        "command": "mcp-debugger.profileMemory",
        "title": "MCP Debugger: Take Heap Snapshot",
        "icon": "$(database)"
      }
    ],
    "configuration": {
      "title": "MCP Debugger",
      "properties": {
        "mcp-debugger.serverPath": {
          "type": "string",
          "default": "",
          "description": "Path to MCP debugger server executable. Leave empty to use bundled server."
        },
        "mcp-debugger.autoStart": {
          "type": "boolean",
          "default": true,
          "description": "Automatically start MCP server when VS Code opens"
        },
        "mcp-debugger.defaultTimeout": {
          "type": "number",
          "default": 30000,
          "description": "Default timeout for debug operations in milliseconds"
        },
        "mcp-debugger.enableHangDetection": {
          "type": "boolean",
          "default": true,
          "description": "Enable automatic hang detection for long-running operations"
        },
        "mcp-debugger.hangDetectionTimeout": {
          "type": "number",
          "default": 5000,
          "description": "Timeout for hang detection in milliseconds"
        },
        "mcp-debugger.enableProfiling": {
          "type": "boolean",
          "default": false,
          "description": "Enable performance profiling features"
        },
        "mcp-debugger.logLevel": {
          "type": "string",
          "enum": [
            "debug",
            "info",
            "warn",
            "error"
          ],
          "default": "info",
          "description": "Log level for MCP debugger"
        },
        "mcp.servers.ts-mcp-debugger": {
          "type": "object",
          "default": {
            "command": "npx",
            "args": [
              "-y",
              "@ai-capabilities-suite/mcp-debugger-server"
            ]
          },
          "description": "MCP Debugger server configuration"
        }
      }
    },
    "debuggers": [
      {
        "type": "mcp-node",
        "label": "MCP Node.js Debugger",
        "program": "./out/debugAdapter.js",
        "runtime": "node",
        "configurationAttributes": {
          "launch": {
            "required": [
              "program"
            ],
            "properties": {
              "program": {
                "type": "string",
                "description": "Absolute path to the program to debug",
                "default": "${workspaceFolder}/index.js"
              },
              "args": {
                "type": "array",
                "description": "Command line arguments",
                "default": []
              },
              "cwd": {
                "type": "string",
                "description": "Working directory",
                "default": "${workspaceFolder}"
              },
              "env": {
                "type": "object",
                "description": "Environment variables",
                "default": {}
              },
              "timeout": {
                "type": "number",
                "description": "Timeout in milliseconds",
                "default": 30000
              },
              "enableHangDetection": {
                "type": "boolean",
                "description": "Enable hang detection",
                "default": true
              },
              "enableProfiling": {
                "type": "boolean",
                "description": "Enable CPU/memory profiling",
                "default": false
              }
            }
          },
          "attach": {
            "required": [
              "sessionId"
            ],
            "properties": {
              "sessionId": {
                "type": "string",
                "description": "MCP debug session ID to attach to"
              }
            }
          }
        },
        "initialConfigurations": [
          {
            "type": "mcp-node",
            "request": "launch",
            "name": "MCP Debug Current File",
            "program": "${file}",
            "cwd": "${workspaceFolder}",
            "enableHangDetection": true
          },
          {
            "type": "mcp-node",
            "request": "launch",
            "name": "MCP Debug with Profiling",
            "program": "${workspaceFolder}/index.js",
            "cwd": "${workspaceFolder}",
            "enableProfiling": true
          }
        ],
        "configurationSnippets": [
          {
            "label": "MCP: Launch Program",
            "description": "Debug a Node.js program with MCP debugger",
            "body": {
              "type": "mcp-node",
              "request": "launch",
              "name": "MCP Debug",
              "program": "^\"\\${workspaceFolder}/index.js\"",
              "cwd": "^\"\\${workspaceFolder}\"",
              "enableHangDetection": true
            }
          },
          {
            "label": "MCP: Debug Jest Tests",
            "description": "Debug Jest tests with MCP debugger",
            "body": {
              "type": "mcp-node",
              "request": "launch",
              "name": "MCP Debug Jest",
              "program": "^\"\\${workspaceFolder}/node_modules/.bin/jest\"",
              "args": [
                "--runInBand"
              ],
              "cwd": "^\"\\${workspaceFolder}\"",
              "enableHangDetection": true
            }
          }
        ]
      }
    ],
    "walkthroughs": [
      {
        "id": "ts-mcp-debugger.walkthrough",
        "title": "Get Started with MCP Debugger",
        "description": "Learn how to use AI-powered debugging with GitHub Copilot",
        "steps": [
          {
            "id": "install",
            "title": "Extension Installed",
            "description": "MCP Debugger is now active and available to GitHub Copilot.\n[Open Settings](command:workbench.action.openSettings?%5B%22mcp-debugger%22%5D)",
            "media": {
              "markdown": "README.md"
            }
          },
          {
            "id": "copilot",
            "title": "Use with Copilot",
            "description": "Ask Copilot to debug your code:\n- Type `@debugger detect hangs`\n- Or use natural language: \"debug this file\"\n[Try it now](command:workbench.action.chat.open)",
            "media": {
              "markdown": "README.md"
            }
          }
        ]
      }
    ],
    "keybindings": [
      {
        "command": "mcp-debugger.start",
        "key": "ctrl+shift+d ctrl+shift+m",
        "mac": "cmd+shift+d cmd+shift+m"
      },
      {
        "command": "mcp-debugger.detectHang",
        "key": "ctrl+shift+d ctrl+shift+h",
        "mac": "cmd+shift+d cmd+shift+h"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "mcp-debugger.setBreakpoint",
          "group": "debug"
        }
      ],
      "commandPalette": [
        {
          "command": "mcp-debugger.start"
        },
        {
          "command": "mcp-debugger.detectHang"
        },
        {
          "command": "mcp-debugger.setBreakpoint"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./ && npm run copy-fixtures",
    "copy-fixtures": "mkdir -p out/test/fixtures && cp -r src/test/fixtures/* out/test/fixtures/ 2>/dev/null || true",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile",
    "test": "node ./out/test/runTest.js",
    "vsce:login": "vsce login DigitalDefiance",
    "package": "vsce package --no-dependencies",
    "publish": "vsce publish --no-dependencies"
  },
  "devDependencies": {
    "@types/glob": "^9.0.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "^20.x",
    "@types/vscode": "^1.96.0",
    "@vscode/test-electron": "^2.3.8",
    "@vscode/vsce": "^3.7.1",
    "glob": "^13.0.0",
    "mocha": "^11.7.5",
    "typescript": "^5.3.3"
  },
  "dependencies": {
    "@ai-capabilities-suite/mcp-debugger-server": "^1.1.13",
    "@ai-capabilities-suite/vscode-shared-status-bar": "^1.0.10",
    "@modelcontextprotocol/sdk": "^0.5.0",
    "@vscode/debugadapter": "^1.65.0",
    "@vscode/debugprotocol": "^1.65.0",
    "vscode-languageclient": "^10.0.0-next.15",
    "vscode-languageserver": "^10.0.0-next.15",
    "vscode-languageserver-textdocument": "^1.0.12"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/digital-defiance/ai-capabilities-suite.git",
    "directory": "packages/vscode-mcp-debugger"
  },
  "bugs": {
    "url": "https://github.com/digital-defiance/ai-capabilities-suite/issues"
  },
  "homepage": "https://github.com/digital-defiance/ai-capabilities-suite/tree/main/packages/vscode-mcp-debugger#readme",
  "license": "MIT"
}
